
pkgname=pyalpm
pkgver=0.10.8
pkgrel=1
pkgdesc="C extension for Python 3 that give access to the libalpm API for package management"
arch=('x86_64')
url="https://gitlab.archlinux.org/archlinux/pyalpm"
license=('GPL')
depends=('python3' 'pacman')
makedepends=('python3-build' 'python3-installer' 'python3-setuptools' 'python3-wheel')
source=("https://gitlab.archlinux.org/archlinux/pyalpm/-/archive/${pkgver}/${pkgname}-${pkgver}.tar.bz2")
md5sums=('4a239aaf3d1c4abd54c12e8450b7ccb8')

build() {
  cd ${pkgname}-${pkgver}

  python3 -m build -nw
}

package() {
  cd ${pkgname}-${pkgver}

  python3 -m installer --destdir=${pkgdir} dist/*.whl
}
