
pkgname=('python2-cython' 'python3-cython')
pkgbase=cython
pkgver=0.28.2
pkgrel=1
arch=('x86_64')
url="http://www.cython.org"
license=('APACHE')
makedepends=('python2-setuptools' 'python3-setuptools')
#source=("http://cython.org/release/Cython-${pkgver}.tar.gz")
source=("https://files.pythonhosted.org/packages/79/9d/dea8c5181cdb77d32e20a44dd5346b0e4bac23c4858f2f66ad64bbcf4de8/Cython-${pkgver}.tar.gz")
sha256sums=('634e2f10fc8d026c633cffacb45cd8f4582149fa68e1428124e762dbc566e68a')

package_python2-cython() {
  depends=('python2' 'python2-setuptools')
  pkgdesc="C-Extensions for Python 2"
  provides=('python2-c')
  
  cd Cython-${pkgver}
  python2 -O setup.py install --root=${pkgdir}
}

package_python3-cython() {
  depends=('python3' 'python3-setuptools')
  pkgdesc="C-Extensions for Python 3"

  cd Cython-${pkgver}
  python3 setup.py install --root=${pkgdir}
  
  mv ${pkgdir}/usr/bin/cygdb ${pkgdir}/usr/bin/cygdb3
  mv ${pkgdir}/usr/bin/cython ${pkgdir}/usr/bin/cython3
  mv $pkgdir/usr/bin/cythonize $pkgdir/usr/bin/cythonize3
}
