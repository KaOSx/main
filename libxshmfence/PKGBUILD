
pkgname=libxshmfence
pkgver=1.3.1
pkgrel=1
pkgdesc="Tiny library that exposes a event API on top of Linux futexes"
arch=('x86_64')
url="https://xorg.freedesktop.org/"
license=('GPL')
depends=('glibc')
makedepends=('xorg-util-macros' 'xorgproto')
source=("https://xorg.freedesktop.org/releases/individual/lib/${pkgname}-${pkgver}.tar.xz")
sha256sums=('1129f95147f7bfe6052988a087f1b7cb7122283d2c47a7dbf7135ce0df69b4f8')

build() {
	cd ${pkgname}-${pkgver}

	./configure --prefix=/usr
	make
}

check() {
	cd ${pkgname}-${pkgver}

	make -k check
}

package() {
	cd ${pkgname}-${pkgver}
	make DESTDIR=${pkgdir}/ install

	install -m755 -d ${pkgdir}/usr/share/licenses/${pkgname}
	install -m644 COPYING ${pkgdir}/usr/share/licenses/${pkgname}/
}
