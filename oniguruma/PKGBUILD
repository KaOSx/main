
pkgname=oniguruma
pkgver=6.9.7
_pkgver=6.9.7
pkgrel=1
pkgdesc="Modern and flexible regular expressions library."
arch=('x86_64')
url="https://github.com/kkos/oniguruma"
makedends=('cmake')
license=('BSD')
source=("https://github.com/kkos/oniguruma/releases/download/v${pkgver}/onig-${_pkgver}.tar.gz")
md5sums=('d52e5d762366b740d71f9bcf1e0e0522')

build() {
  cmake -B build -S onig-${_pkgver} \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_BUILD_TYPE=Release \
    -DBUILD_SHARED_LIBS=ON \
    -DENABLE_POSIX_API=ON
  cmake --build build
}

package() {

  DESTDIR=${pkgdir} cmake --install build
}
