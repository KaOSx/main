
pkgname=oniguruma
pkgver=6.9.7.1
_pkgver=6.9.7
pkgrel=1
pkgdesc="Modern and flexible regular expressions library."
arch=('x86_64')
url="https://github.com/kkos/oniguruma"
makedends=('cmake')
license=('BSD')
source=("https://github.com/kkos/oniguruma/releases/download/v${_pkgver}/onig-${pkgver}.tar.gz")
sha256sums=('6444204b9c34e6eb6c0b23021ce89a0370dad2b2f5c00cd44c342753e0b204d9')

build() {
  cmake -B build -S onig-${_pkgver} \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_BUILD_TYPE=Release \
    -DBUILD_SHARED_LIBS=ON \
    -DENABLE_POSIX_API=ON
  cmake --build build
}

package() {

  DESTDIR=${pkgdir} cmake --install build
}
