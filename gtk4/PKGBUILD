
pkgname=gtk4
pkgver=4.2.0
_pkgver=4.2
pkgrel=1
pkgdesc="The GTK+ Toolkit (v4)"
arch=('x86_64')
url="https://www.gtk.org/"
depends=('cairo' 'ffmpeg' 'gdk-pixbuf2' 'libcups' 'libxcursor' 'libxinerama' 'libxrandr' 
          'libxi' 'libxcomposite' 'libxdamage' 'pango' 'shared-mime-info' 
          'colord' 'at-spi2-atk' 'libepoxy' 'libxkbcommon' 'wayland'
          'wayland-protocols' 'iso-codes' 'vulkan-loader' 'graphene' 'gst-plugins-bad')
makedepends=('gobject-introspection' 'sassc' 'meson' 'ninja')
options=('!libtool' '!docs')
license=('LGPL')
source=("https://ftp.gnome.org/pub/gnome/sources/gtk/${_pkgver}/gtk-${pkgver}.tar.xz")
sha256sums=('e975f286e911666a79b6bcf486e6f99b0bd9d2b4cc348d19bce487a0b1c97072')

build() {
  mkdir -p build
  cd build
  
  meson ../gtk-${pkgver} \
    --prefix=/usr \
    --buildtype=release \
    --sysconfdir=/etc \
    --localstatedir=/var \
    -Dgtk_doc=false \
    -Dintrospection=enabled \
    -Ddemos=false \
    -Dbuild-examples=false \
    -Dbuild-tests=false \
    -Dinstall-tests=false
  ninja
}

package() {
  cd build

  DESTDIR=${pkgdir} ninja install
}

