
pkgname=ldb
pkgver=2.3.0
pkgrel=1
epoch=1
pkgdesc="Provide a fast database with an LDAP-like API designed to be used within an application."
arch=('x86_64')
url="https://ldb.samba.org/"
license=('GPL3')
depends=('talloc' 'tevent' 'tdb' 'popt' 'python3' 'lmdb')
source=("https://samba.org/ftp/ldb/${pkgname}-${pkgver}.tar.gz")
md5sums=('fe4b1f17f77e2ea52b4e1320d927844c')

build() {
	cd ${pkgname}-${pkgver}

	./configure --prefix=/usr \
        --disable-rpath \
        --disable-rpath-install \
        --bundled-libraries=cmocka \
        --builtin-libraries=replace \
        --with-modulesdir=/usr/lib/ldb/modules \
        --with-privatelibdir=/usr/lib/ldb
	make
}

package() {
	cd ${pkgname}-${pkgver}

	make DESTDIR=${pkgdir}/ install
}

