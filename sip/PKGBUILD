
pkgname=sip
pkgver=4.19.8
_pkgver=4.19.8
_snapshot=0b19f77489ce
pkgrel=1
pkgdesc="A tool that makes it easy to create Python2 bindings for C and C++ libraries"
arch=('x86_64')
url="https://www.riverbankcomputing.com/software/sip/"
license=('custom:"sip"')
depends=('python2' 'gcc-libs' 'sip3')
source=("https://sourceforge.net/projects/pyqt/files/sip/sip-${pkgver}/${pkgname}-${pkgver}.tar.gz")
#source=("http://www.riverbankcomputing.com/static/Downloads/sip4/sip-${pkgver}.tar.gz")
#source=("http://www.riverbankcomputing.com/static/Downloads/sip4/sip-4.15.5-snapshot-$_snapshot.tar.gz")
sha1sums=('2055f455cf90fd1e43c6b0af956a50fdf6dc1112')

build() {
  cd ${pkgname}-${pkgver}
  #cd ${pkgname}-4.15.5-snapshot-$_snapshot 

  python2 configure.py
  make
}

package() {
  cd ${pkgname}-${pkgver}
  #cd ${pkgname}-4.15.5-snapshot-$_snapshot

  make DESTDIR=${pkgdir} install -C siplib
  
  install -Dm644 sipconfig.py ${pkgdir}/usr/lib/python2.7/site-packages/sipconfig.py
  install -Dm644 sipdistutils.py ${pkgdir}/usr/lib/python2.7/site-packages/sipdistutils.py 
  
  install -Dm644 LICENSE ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
}
