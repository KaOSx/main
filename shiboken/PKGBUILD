
pkgname=shiboken2
_pkgname=pyside-setup-opensource-src
pkgver=5.15.4
_pkgver=5.15.4
pkgrel=1
pkgdesc="Plugin (front-end) for Generator Runner. It generates bindings for C++ libraries using CPython source code"
arch=('x86_64')
license=('LGPL')
url="http://code.qt.io/cgit/pyside/shiboken.git/tree/README.md"
depends=('python3' 'qt5-xmlpatterns' 'libxslt' 'clang')
makedepends=('cmake' 'python3-sphinx')
#source=("git://code.qt.io/pyside/pyside-setup.git")
source=("https://download.qt.io/official_releases/QtForPython/${pkgname}/PySide2-${pkgver}-src/${_pkgname}-${pkgver}.tar.xz")
sha256sums=('3c68ed0def4111ef5d0641370306338d277ae8983a77eaf22f223ddd3a14450b')

build() {
  cmake -B build -S ${_pkgname}-${_pkgver}/sources/shiboken2 \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DBUILD_TESTS=OFF \
    -DUSE_PYTHON_VERSION=3
  cmake --build build
}

package() {

  DESTDIR=${pkgdir} cmake --install build
}

