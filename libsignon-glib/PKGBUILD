
pkgname=libsignon-glib
pkgver=2.1
pkgrel=1
pkgdesc='Single signon authentication library for GLib applications'
arch=('x86_64')
url='https://gitlab.com/accounts-sso/libsignon-glib'
license=('LGPL2.1')
depends=('signonqt')
makedepends=('python3-gobject3' 'gtk-doc' 'meson' 'ninja' 'vala')
# check https://groups.google.com/forum/#!forum/accounts-sso-announce
source=("https://gitlab.com/accounts-sso/libsignon-glib/repository/archive.tar.bz2?ref=VERSION_${pkgver}")
md5sums=('5892e919356f8a1d579959fc0f6441f6')

build() {
  mkdir -p build
  cd build
  
  meson ../${pkgname}-VERSION_${pkgver}-* \
    --prefix=/usr \
    --buildtype=release \
    --libexecdir=/usr/lib/${pkgname} \
    -Dtests=false 
  ninja
}

package() {
  cd build

  DESTDIR=${pkgdir} ninja install
}
