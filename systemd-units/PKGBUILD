

pkgname=systemd-units
pkgver=20120528
pkgrel=3
pkgdesc="Chakra GNU/Linux specific Systemd unit files"
arch=('any')
url="http://github.com/falconindy/systemd-arch-units"
license=('MIT')
depends=('systemd>=44')
groups=('systemd')
install=systemd-units.install
source=("http://chakra-linux.org/sources/${pkgname}/${pkgname}-${pkgver}.tar.xz")
md5sums=('1bef86deec263d52032114ee696323b2')



package() {
  cd "$srcdir/${pkgname}-${pkgver}"

  make DESTDIR="$pkgdir" install

  sed -i 's/udev-settle/systemd-&/' "$pkgdir"/usr/lib/systemd/system/{lvm,dmraid}.service
  rm "$pkgdir"/usr/lib/systemd/system/bluetooth.service
  rm "$pkgdir"/usr/lib/systemd/system/cups.service
  rm "$pkgdir"/usr/lib/systemd/system/ntpd.service
  rm "$pkgdir"/usr/lib/systemd/system/laptop-mode-tools.service
  rm "$pkgdir"/usr/lib/systemd/system/modem-manager.service
  rm "$pkgdir"/usr/lib/systemd/system/nginx.service
  rm "$pkgdir"/usr/lib/systemd/system/oss.service
  rm "$pkgdir"/usr/lib/systemd/system/pommed.service
  rm "$pkgdir"/usr/lib/systemd/system/postgresql.service
  rm "$pkgdir"/usr/lib/systemd/scripts/postgresql-initdb
  rm "$pkgdir"/usr/lib/systemd/system/saned@.service
  rm "$pkgdir"/usr/lib/systemd/system/saned.socket
  rm "$pkgdir"/usr/lib/systemd/system/udisks.service
  rm "$pkgdir"/usr/lib/systemd/system/dcron.service
  rm "$pkgdir"/usr/lib/systemd/system/dhcpcd@.service
  rm "$pkgdir"/usr/lib/systemd/system/dmraid.service
  rm "$pkgdir"/usr/lib/systemd/system/krb5*
  rm "$pkgdir"/usr/lib/systemd/system/lvm.service
  rm "$pkgdir"/usr/lib/tmpfiles.d/lvm2.conf
  rm "$pkgdir"/usr/lib/systemd/system/openvpn@.service
  rm "$pkgdir"/usr/lib/systemd/system/sshd*
  rm "$pkgdir"/usr/lib/tmpfiles.d/openssh.conf
  rm "$pkgdir"/usr/lib/systemd/system/wpa_supplicant.service
  rm "$pkgdir"/usr/lib/systemd/system/ufw.service
}
