
pkgname=libnfs
pkgver=5.0.0
pkgrel=1
pkgdesc="Client library for accessing NFS shares over a network."
arch=('x86_64')
url="https://github.com/sahlberg/libnfs"
license=('GPL')
depends=('glibc')
source=("https://github.com/sahlberg/libnfs/archive/${pkgname}-${pkgver}.tar.gz"
        "https://github.com/sahlberg/libnfs/commit/382905495fd3cbee45eeeae91fe53161e6f39d78.diff"
        "https://github.com/sahlberg/libnfs/commit/c33e0c3825cbf891d1ef6240256e692786473a42.diff")
md5sums=('fd65f2f9e72d332f9c084fe5e832bd10'
         '8689db7102e6fd0d3257c2fff26cc207'
         '0f4439780dad9d8a41425632134c7b14')

build() {
  cd ${pkgname}-${pkgname}-${pkgver}
  patch -p1 -i ${srcdir}/382905495fd3cbee45eeeae91fe53161e6f39d78.diff
  patch -p1 -i ${srcdir}/c33e0c3825cbf891d1ef6240256e692786473a42.diff

  ./bootstrap
    ./configure --prefix=/usr
  make
}

package() {
  cd ${pkgname}-${pkgname}-${pkgver}

  make DESTDIR=${pkgdir} install
}
