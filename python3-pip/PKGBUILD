
pkgname=python3-pip
pkgver=22.0.4
pkgrel=1
pkgdesc="An easy_install replacement for installing pypi python3 packages"
url="https://pip.pypa.io/"
arch=('x86_64')
license=('MIT')
depends=('python3' 'python3-setuptools' 'python3-wheel')
source=("https://files.pythonhosted.org/packages/source/p/pip/pip-${pkgver}.tar.gz")
sha256sums=('b3a9de2c6ef801e9247d1527a4b16f92f2cc141cd1489f3fffaf6a9e96729764')

package() {
  cd pip-${pkgver}
  python3 setup.py build
  python3 setup.py install --prefix=/usr --root=${pkgdir}

  sed -i "s|#!/usr/bin/env python$|#!/usr/bin/env python3|" \
    ${pkgdir}/usr/lib/python3.9/site-packages/pip/__init__.py

  install -D -m644 LICENSE.txt ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
}
