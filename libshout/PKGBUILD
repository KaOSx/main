
pkgname=libshout
pkgver=2.4.5
pkgrel=1
pkgdesc="Library for accessing a shoutcast/icecast server"
arch=('x86_64')
depends=('libvorbis' 'libtheora' 'speex')
url="https://www.icecast.org/"
options=('!libtool')
license=('LGPL')
source=("https://downloads.xiph.org/releases/libshout/${pkgname}-${pkgver}.tar.gz")
sha256sums=('d9e568668a673994ebe3f1eb5f2bee06e3236a5db92b8d0c487e1c0f886a6890')

build() {
  cd ${pkgname}-${pkgver}
  #sed -e 's|SSLeay_add_all_algorithms|OpenSSL_add_all_algorithms|g' -i src/tls.c
  
  ./configure --prefix=/usr \
    --sysconfdir=/etc \
    --localstatedir=/var
    
  make LDFLAGS+=-lspeex
}

package() {
  cd ${pkgname}-${pkgver}
  
  make DESTDIR="${pkgdir}" install
}
