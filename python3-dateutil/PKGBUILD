
pkgname=python3-dateutil
_pkgname=python-dateutil
pkgver=2.6.1
pkgrel=1
pkgdesc="Provides powerful extensions to the standard datetime module"
arch=('x86_64')
license=('custom:PYTHON')
url="https://github.com/dateutil/dateutil"
depends=('python3' 'python3-six')
makedepends=('python3-setuptools' )
source=("https://github.com/dateutil/dateutil/releases/download/${pkgver}/${_pkgname}-${pkgver}.tar.gz")
md5sums=('db38f6b4511cefd76014745bb0cc45a4')

check() {
  cd ${_pkgname}-${pkgver}
  
  python3 updatezinfo.py
  python3 setup.py test
}

package() {
  cd ${_pkgname}-${pkgver}
  python3 setup.py install --root=${pkgdir} --optimize=1
  install -Dm644 LICENSE ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE

  chmod -R a+r ${pkgdir}/usr/lib/python3.6/
  rm ${pkgdir}/usr/lib/python3.6/site-packages/dateutil/zoneinfo/dateutil-zoneinfo.tar.gz
}

  
