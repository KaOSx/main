
pkgname=hunspell-es
pkgver=2.4
pkgrel=1
pkgdesc="Spanish hunspell dictionaries"
arch=('x86_64')
url="https://github.com/sbosio/rla-es"
license=('LGPL')
depends=('hunspell')
noextract=(es_ANY.oxt es_AR.oxt es_BO.oxt es_CL.oxt es_CO.oxt 
           es_CR.oxt es_CU.oxt es_DO.oxt es_EC.oxt es_ES.oxt 
           es_GT.oxt es_HN.oxt es_MX.oxt es_NI.oxt es_PA.oxt 
           es_PE.oxt es_PR.oxt es_PY.oxt es_SV.oxt es_UY.oxt es_VE.oxt)
source=("https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_ANY.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_AR.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_BO.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_CL.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_CO.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_CR.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_CU.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_DO.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_EC.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_ES.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_GT.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_HN.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_MX.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_NI.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_PA.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_PE.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_PR.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_PY.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_SV.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_UY.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_VE.oxt")
md5sums=('2fd51ea2c6e0a13feb4517f6b4f9a90e'
         'b2effeda15efd43a241f1cb7cac5513f'
         'fc6049276466c49c7e1053958a92375d'
         '7f2423b68ca4b9417fa15d54cf0b4ea4'
         '528155fe89a7ee935c394b4d5b695e15'
         'a24d32d90cf85c4ee7f53c9e2cd72596'
         '29236bbbfae3995924cedff58d587688'
         '932f9cb1f97ca025b7bafbf329348297'
         '85880918dc984a603e18d5df1012ff6c'
         'a0686c1b379f68f2582d95d5ab8f1513'
         '2ab8da0e5da56d53f114239861375d92'
         '7804e90c4206a9ece521f67cc4254c2e'
         '396e7b30ffa33b56074cf9798d68118f'
         'e3370cff28c7e618f2d1a63c8a5e15be'
         '521992bce7c5bedd02f9f041c10a24b4'
         '1d8c510df2c97e3c2f0bae45d54abc6a'
         '90f4fbc7de041c0f4c1dbb2d8ce0a468'
         '630405d4c1875bfe4de851c6c89fd2f2'
         'b9c767fea2a838dfa7f44c7516553166'
         '0defa0ce6543cd9629b57797b3db1881'
         '202e85b128cc18165cfc1ec5a92d6f8f')

package() {

  export LANG=en_US.UTF-8
  
  for file in *.oxt; do
    LANG=en_US.utf8 bsdtar -xf $file
  done
  
  install -dm755 ${pkgdir}/usr/share/hunspell
  cp -p es_*.dic es_*.aff $pkgdir/usr/share/hunspell

  install -dm755 ${pkgdir}/usr/share/myspell/dicts
  pushd $pkgdir/usr/share/myspell/dicts
    for file in $pkgdir/usr/share/hunspell/*; do
      ln -sv /usr/share/hunspell/$(basename $file) .
    done
  popd
  
  install -dm755 ${pkgdir}/usr/share/doc/$pkgname
  cp -p README.txt $pkgdir/usr/share/doc/$pkgname
}
