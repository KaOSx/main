
pkgname=hunspell-es
pkgver=2.5
pkgrel=1
pkgdesc="Spanish hunspell dictionaries"
arch=('x86_64')
url="https://github.com/sbosio/rla-es"
license=('LGPL')
depends=('hunspell')
noextract=(es_ANY.oxt es_AR.oxt es_BO.oxt es_CL.oxt es_CO.oxt 
           es_CR.oxt es_CU.oxt es_DO.oxt es_EC.oxt es_ES.oxt 
           es_GT.oxt es_HN.oxt es_MX.oxt es_NI.oxt es_PA.oxt 
           es_PE.oxt es_PR.oxt es_PY.oxt es_SV.oxt es_UY.oxt es_VE.oxt)
source=("https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_ANY.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_AR.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_BO.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_CL.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_CO.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_CR.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_CU.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_DO.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_EC.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_ES.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_GT.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_HN.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_MX.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_NI.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_PA.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_PE.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_PR.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_PY.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_SV.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_UY.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_VE.oxt")
md5sums=('6b0750cc4467488fcbaba576a1f7cb68'
         'd5283215b45d32ae723c7a819d0365a5'
         '2c83248f93139f430d3abf2ee218b253'
         '9b0307c695dc983f1436cd3318da4592'
         'c9b0b826f24a8031d6653987bf875d2b'
         '5f21a206327504fbfcf9306df90a32b0'
         '66f1a1ee9af1b8251cd2f720b1c5ec66'
         'eaeeeeaeb65f7d1e563084917ec61e50'
         '42c223c859d296cd9ec6516ccfbd470c'
         '1a2d4598c69b93eaa19190df1ee80a1d'
         '8d6c8d9fa2fcf2936c7f5f6de88e6281'
         'c1e8f69eb02e2f8fd93bee54d9234e6c'
         '6396c531ba47c36aca270da81de0cf89'
         '19186b142ae18305918491d04abac771'
         '104e5c961e12b8461c585c005e944ca7'
         '15fb7337e96bf6ca2f1e88ccbb64096a'
         '6f1ec8a1d29012c4bde65dba4cf26e7e'
         'c740f9418578ff5df21720371dde0f52'
         '163e47c3d83fb4b447c216a41c4b2a0e'
         'adb8ac2af53291cf5fe8f753425e3876'
         '36902c0b2b934c2ab4f92fd2ef61bc87')

package() {

  export LANG=en_US.UTF-8
  
  for file in *.oxt; do
    LANG=en_US.utf8 bsdtar -xf $file
  done
  
  install -dm755 ${pkgdir}/usr/share/hunspell
  cp -p es_*.dic es_*.aff $pkgdir/usr/share/hunspell

  install -dm755 ${pkgdir}/usr/share/myspell/dicts
  pushd $pkgdir/usr/share/myspell/dicts
    for file in $pkgdir/usr/share/hunspell/*; do
      ln -sv /usr/share/hunspell/$(basename $file) .
    done
  popd
  
  install -dm755 ${pkgdir}/usr/share/doc/$pkgname
  cp -p README.txt $pkgdir/usr/share/doc/$pkgname
}
