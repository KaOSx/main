
pkgname=hunspell-es
pkgver=2.3
pkgrel=1
pkgdesc="Spanish hunspell dictionaries"
arch=('x86_64')
url="https://github.com/sbosio/rla-es"
license=('LGPL')
depends=('hunspell')
noextract=(es_ANY.oxt es_AR.oxt es_BO.oxt es_CL.oxt es_CO.oxt 
           es_CR.oxt es_CU.oxt es_DO.oxt es_EC.oxt es_ES.oxt 
           es_GT.oxt es_HN.oxt es_MX.oxt es_NI.oxt es_PA.oxt 
           es_PE.oxt es_PR.oxt es_PY.oxt es_SV.oxt es_UY.oxt es_VE.oxt)
source=("https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_ANY.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_AR.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_BO.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_CL.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_CO.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_CR.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_CU.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_DO.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_EC.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_ES.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_GT.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_HN.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_MX.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_NI.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_PA.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_PE.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_PR.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_PY.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_SV.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_UY.oxt"
        "https://github.com/sbosio/rla-es/releases/download/v${pkgver}/es_VE.oxt")
md5sums=('189478fa92cfab19c7b912180ccd614f'
         '7a81e6eb1e38d282b5fcec24d0a9851f'
         'ab3640708a22b8dbcc28a1bfee1f0d53'
         '437502b8d150ec6d551c5f1241ae82ae'
         '7cbcff96eed5afb50f3b1f7eeba8d48f'
         'b3aa1b890ece2b29384977310e171df2'
         'e279ac9eadaad6c6e759292f8cab6c29'
         'b0d05e364e4b0cfe8afbbfa74390b8cf'
         'c9f00097e4f8e2c4a2ea84712f9921b4'
         '91f69f4a39a8e14f3d3f96ad0b054a69'
         'b5fa587d9afbdc8c077379a324dabc81'
         '4866b4b16d9451ca0d66a24e15ff01fc'
         '297e97dd2538d279ee9cb8b37233ccb8'
         '8db99e83140525508403d96650383c72'
         '17f275f1029b5dab803fde231701b1c1'
         'd6868462b7412c6d785598432a87ef13'
         'c2573a430ab0cd1e585b52d484605901'
         '57b67fb938f2c54ca6da9ea4f200cff3'
         '2a0a3cd4150a7eefa569e86db4405d28'
         'f4ac3c17e34d3f9c2214a0c34e716642'
         'c4cdc32915c420ec2d728d37643b41d6')

package() {

  export LANG=en_US.UTF-8
  
  for file in *.oxt; do
    LANG=en_US.utf8 bsdtar -xf $file
  done
  
  install -dm755 ${pkgdir}/usr/share/hunspell
  cp -p es_*.dic es_*.aff $pkgdir/usr/share/hunspell

  install -dm755 ${pkgdir}/usr/share/myspell/dicts
  pushd $pkgdir/usr/share/myspell/dicts
    for file in $pkgdir/usr/share/hunspell/*; do
      ln -sv /usr/share/hunspell/$(basename $file) .
    done
  popd
  
  install -dm755 ${pkgdir}/usr/share/doc/$pkgname
  cp -p README.txt $pkgdir/usr/share/doc/$pkgname
}
