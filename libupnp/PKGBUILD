
pkgname=libupnp
pkgver=1.14.10
pkgrel=1
pkgdesc="Portable UPnP development kit."
arch=('x86_64')
url="https://pupnp.github.io/pupnp/"
license=('BSD')
depends=('glibc')
makedepends=('cmake')
source=("https://github.com/pupnp/pupnp/releases/download/release-${pkgver}/${pkgname}-${pkgver}.tar.bz2")
sha1sums=('c5c95f001b9b73d50b88b8f4a1bba84488683a5d')

build() {
  cmake -B build -S ${pkgname}-${pkgver} \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -Dsamples=OFF
  cmake --build build
}

package() {
  DESTDIR=${pkgdir} cmake --install build

  install -Dm644 ${pkgname}-${pkgver}/COPYING ${pkgdir}/usr/share/licenses/custom/${pkgname}/COPYING
}
